<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ™ºèƒ½å†°ç®±ç®¡å®¶</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <!-- ç»Ÿä¸€çš„ Tailwind é…ç½® -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0ea5e9',
                        secondary: '#10b981',
                        accent: '#06b6d4',
                        warning: '#f59e0b',
                        danger: '#ef4444',
                        dark: '#1e293b',
                        light: '#f8fafc'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .card-shadow {
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            }
            .btn-shadow {
                box-shadow: 0 10px 15px -3px rgba(14, 165, 233, 0.3);
            }
            .btn-shadow-green {
                box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3);
            }
            .btn-shadow-warning {
                box-shadow: 0 10px 15px -3px rgba(245, 158, 11, 0.3);
            }
            .progress-ring-circle {
                transition: stroke-dashoffset 0.35s;
                transform: rotate(-90deg);
                transform-origin: 50% 50%;
            }
        }
    </style>
    <style>
        /* è‡ªå®šä¹‰æ ·å¼ */
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background-color: #f8fafc;
            overscroll-behavior: none;
            touch-action: manipulation;
        }
        
        .page {
            display: none;
            min-height: calc(100vh - 60px);
        }
        
        .page.active {
            display: block;
        }
        
        .tab-icon {
            transition: all 0.3s ease;
        }
        
        .tab-icon.active {
            color: #0ea5e9;
            transform: scale(1.1);
        }
        
        .tab-label {
            transition: all 0.3s ease;
            font-size: 10px;
        }
        
        .tab-label.active {
            color: #0ea5e9;
            font-weight: 600;
        }
        
        .camera-btn {
            transition: all 0.3s ease;
        }
        
        .camera-btn:active {
            transform: scale(0.95);
        }
        
        .ingredient-card {
            transition: all 0.3s ease;
        }
        
        .ingredient-card:active {
            transform: scale(0.98);
        }
        
        .status-fresh {
            background-color: rgba(16, 185, 129, 0.1);
            border-left: 4px solid #10b981;
        }
        
        .status-warning {
            background-color: rgba(245, 158, 11, 0.1);
            border-left: 4px solid #f59e0b;
        }
        
        .status-expired {
            background-color: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease forwards;
        }
        
        .fade-in-delay-1 {
            animation: fadeIn 0.3s ease 0.1s forwards;
            opacity: 0;
        }
        
        .fade-in-delay-2 {
            animation: fadeIn 0.3s ease 0.2s forwards;
            opacity: 0;
        }
        
        .fade-in-delay-3 {
            animation: fadeIn 0.3s ease 0.3s forwards;
            opacity: 0;
        }
        
        /* æ‰«æåŠ¨ç”» */
        @keyframes scan {
            0% { transform: translateY(-100%); }
            50% { transform: translateY(100%); }
            100% { transform: translateY(-100%); }
        }
        
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, transparent, #0ea5e9, transparent);
            animation: scan 2s ease-in-out infinite;
        }
        
        /* éª¨æ¶å± */
        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- é¡µé¢å®¹å™¨ -->
    <div class="container mx-auto px-4 pb-16">
        <!-- é¦–é¡µ (P2) -->
        <div id="home-page" class="page active">
            <!-- é¡¶éƒ¨æ  -->
            <div class="flex justify-between items-center pt-6 pb-2">
                <h1 class="text-2xl font-bold text-dark">æ™ºèƒ½å†°ç®±ç®¡å®¶</h1>
                <div class="relative">
                    <button id="notification-btn" class="p-2 rounded-full bg-gray-100">
                        <i class="fa fa-bell-o text-gray-600"></i>
                        <span id="notification-badge" class="absolute top-0 right-0 w-4 h-4 bg-danger rounded-full text-white text-xs flex items-center justify-center">2</span>
                    </button>
                </div>
            </div>
            
            <!-- è¿‡æœŸæé†’å¡ç‰‡ -->
            <div class="bg-white rounded-xl p-4 mb-6 card-shadow fade-in">
                <div class="flex justify-between items-center mb-3">
                    <h2 class="text-lg font-semibold">è¿‡æœŸæé†’</h2>
                    <a href="#inventory-page" class="text-primary text-sm">æŸ¥çœ‹å…¨éƒ¨</a>
                </div>
                <div id="expiry-alerts" class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-red-50 rounded-lg border-l-4 border-danger">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center mr-3">
                                <i class="fa fa-exclamation-triangle text-danger"></i>
                            </div>
                            <div>
                                <p class="font-medium">ç‰›å¥¶</p>
                                <p class="text-xs text-gray-500">å·²è¿‡æœŸ 1 å¤©</p>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600">
                            <i class="fa fa-ellipsis-v"></i>
                        </button>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg border-l-4 border-warning">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center mr-3">
                                <i class="fa fa-clock-o text-warning"></i>
                            </div>
                            <div>
                                <p class="font-medium">é¸¡è›‹</p>
                                <p class="text-xs text-gray-500">è¿˜æœ‰ 2 å¤©è¿‡æœŸ</p>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600">
                            <i class="fa fa-ellipsis-v"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- ä¸»è¦åŠŸèƒ½åŒº -->
            <div class="flex flex-col items-center mb-8 fade-in-delay-1">
                <h2 class="text-lg font-semibold mb-6 self-start">æ‰«æå†°ç®±</h2>
                <div class="relative mb-6">
                    <button id="camera-btn" class="w-32 h-32 rounded-full bg-gradient-to-r from-primary to-accent flex items-center justify-center text-white text-3xl camera-btn btn-shadow">
                        <i class="fa fa-camera"></i>
                    </button>
                    <div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-white px-4 py-1 rounded-full text-xs text-gray-500">
                        æ‹ç…§è¯†åˆ«
                    </div>
                </div>
                <button id="gallery-btn" class="flex items-center text-primary mb-2">
                    <i class="fa fa-image mr-2"></i>
                    <span>ä»ç›¸å†Œé€‰æ‹©</span>
                </button>
                <button id="manual-btn" class="flex items-center text-gray-600">
                    <i class="fa fa-plus-circle mr-2"></i>
                    <span>æ‰‹åŠ¨æ·»åŠ </span>
                </button>
            </div>
            
            <!-- å¿«æ·åŠŸèƒ½ -->
            <div class="grid grid-cols-2 gap-4 fade-in-delay-2">
                <a href="#recipe-page" class="bg-white rounded-xl p-4 flex items-center card-shadow hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mr-4">
                        <i class="fa fa-cutlery text-primary text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-medium">èœè°±é£Ÿæ</h3>
                        <p class="text-xs text-gray-500">è¾“å…¥èœå“ï¼Œè·å–é£Ÿæ</p>
                    </div>
                </a>
                <a href="#shopping-page" class="bg-white rounded-xl p-4 flex items-center card-shadow hover:shadow-lg transition-shadow">
                    <div class="w-12 h-12 rounded-full bg-green-50 flex items-center justify-center mr-4">
                        <i class="fa fa-shopping-cart text-secondary text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-medium">è´­ç‰©æ¸…å•</h3>
                        <p class="text-xs text-gray-500">æ™ºèƒ½ç”Ÿæˆè´­ç‰©æ¸…å•</p>
                    </div>
                </a>
            </div>
        </div>
        
        <!-- å›¾ç‰‡åˆ†æé¡µ (P3) -->
        <div id="analyze-page" class="page">
            <div class="flex justify-between items-center pt-6 pb-4">
                <button class="back-btn p-2">
                    <i class="fa fa-arrow-left text-gray-700"></i>
                </button>
                <h1 class="text-xl font-bold">åˆ†æå›¾ç‰‡</h1>
                <div class="w-8"></div> <!-- å ä½ï¼Œä¿æŒæ ‡é¢˜å±…ä¸­ -->
            </div>
            
            <div class="bg-white rounded-xl p-4 mb-6 card-shadow">
                <div class="relative mb-4">
                    <img id="preview-image" src="https://p26-doubao-search-sign.byteimg.com/labis/227b74b7486032a8c3bab88c84fd7f65~tplv-be4g95zd3a-image.jpeg?lk3s=feb11e32&x-expires=1787629329&x-signature=TN4pmQRpBcGTDYibXiwclJd5cxQ%3D" class="w-full h-64 object-cover rounded-lg" alt="å†°ç®±å†…éƒ¨">
                    <div class="scan-line"></div>
                </div>
                
                <div class="mb-4">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm text-gray-600">åˆ†æè¿›åº¦</span>
                        <span id="analyze-progress-text" class="text-sm text-primary">75%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="analyze-progress" class="bg-primary h-2.5 rounded-full" style="width: 75%"></div>
                    </div>
                </div>
                
                <div id="analyze-status" class="text-center py-4">
                    <p class="text-gray-600 mb-2">æ­£åœ¨ä½¿ç”¨GPT-4oåˆ†æå›¾ç‰‡...</p>
                    <p class="text-sm text-gray-500">è¯†åˆ«é£Ÿæå’Œä¿è´¨æœŸ</p>
                </div>
            </div>
            
            <div id="analyze-result-preview" class="bg-white rounded-xl p-4 mb-6 card-shadow hidden">
                <h3 class="text-lg font-semibold mb-3">è¯†åˆ«ç»“æœé¢„è§ˆ</h3>
                <div class="grid grid-cols-3 gap-3">
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-1">
                            <span class="text-gray-500">ğŸ¥›</span>
                        </div>
                        <span class="text-xs text-center">ç‰›å¥¶</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-1">
                            <span class="text-gray-500">ğŸ¥š</span>
                        </div>
                        <span class="text-xs text-center">é¸¡è›‹</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-1">
                            <span class="text-gray-500">ğŸ¥¬</span>
                        </div>
                        <span class="text-xs text-center">ç”Ÿèœ</span>
                    </div>
                </div>
            </div>
            
            <div class="fixed bottom-20 left-0 right-0 px-4">
                <button id="continue-btn" class="w-full py-3 bg-primary text-white rounded-xl font-medium btn-shadow hidden">
                    ç»§ç»­
                </button>
            </div>
        </div>
        
        <!-- åˆ†æç»“æœé¡µ (P4) -->
        <div id="result-page" class="page">
            <div class="flex justify-between items-center pt-6 pb-4">
                <button class="back-btn p-2">
                    <i class="fa fa-arrow-left text-gray-700"></i>
                </button>
                <h1 class="text-xl font-bold">åˆ†æç»“æœ</h1>
                <div class="w-8"></div> <!-- å ä½ï¼Œä¿æŒæ ‡é¢˜å±…ä¸­ -->
            </div>
            
            <div class="bg-white rounded-xl p-4 mb-6 card-shadow">
                <h3 class="text-lg font-semibold mb-3">å†·è—å®¤</h3>
                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="ingredient-card bg-gray-50 rounded-lg p-3 flex items-center">
                        <div class="w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mr-3">
                            <span class="text-xl">ğŸ¥›</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <p class="font-medium">ç‰›å¥¶</p>
                                <span class="text-xs text-gray-500">1ç›’</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-warning">7å¤©åè¿‡æœŸ</span>
                                <div class="w-16 h-1 bg-gray-200 rounded-full">
                                    <div class="h-1 bg-warning rounded-full" style="width: 70%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ingredient-card bg-gray-50 rounded-lg p-3 flex items-center">
                        <div class="w-12 h-12 rounded-full bg-green-50 flex items-center justify-center mr-3">
                            <span class="text-xl">ğŸ¥¬</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <p class="font-medium">ç”Ÿèœ</p>
                                <span class="text-xs text-gray-500">1é¢—</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-secondary">5å¤©åè¿‡æœŸ</span>
                                <div class="w-16 h-1 bg-gray-200 rounded-full">
                                    <div class="h-1 bg-secondary rounded-full" style="width: 80%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ingredient-card bg-gray-50 rounded-lg p-3 flex items-center">
                        <div class="w-12 h-12 rounded-full bg-red-50 flex items-center justify-center mr-3">
                            <span class="text-xl">ğŸ…</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <p class="font-medium">ç•ªèŒ„</p>
                                <span class="text-xs text-gray-500">4ä¸ª</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-secondary">6å¤©åè¿‡æœŸ</span>
                                <div class="w-16 h-1 bg-gray-200 rounded-full">
                                    <div class="h-1 bg-secondary rounded-full" style="width: 75%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h3 class="text-lg font-semibold mb-3">å†·å†»å®¤</h3>
                <div class="grid grid-cols-2 gap-3">
                    <div class="ingredient-card bg-gray-50 rounded-lg p-3 flex items-center">
                        <div class="w-12 h-12 rounded-full bg-red-50 flex items-center justify-center mr-3">
                            <span class="text-xl">ğŸ¥©</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <p class="font-medium">ç‰›è‚‰</p>
                                <span class="text-xs text-gray-500">500g</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-secondary">30å¤©åè¿‡æœŸ</span>
                                <div class="w-16 h-1 bg-gray-200 rounded-full">
                                    <div class="h-1 bg-secondary rounded-full" style="width: 95%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ingredient-card bg-gray-50 rounded-lg p-3 flex items-center">
                        <div class="w-12 h-12 rounded-full bg-yellow-50 flex items-center justify-center mr-3">
                            <span class="text-xl">ğŸ—</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <p class="font-medium">é¸¡è‚‰</p>
                                <span class="text-xs text-gray-500">300g</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-secondary">25å¤©åè¿‡æœŸ</span>
                                <div class="w-16 h-1 bg-gray-200 rounded-full">
                                    <div class="h-1 bg-secondary rounded-full" style="width: 90%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="fixed bottom-20 left-0 right-0 px-4">
                <button id="add-to-inventory-btn" class="w-full py-3 bg-primary text-white rounded-xl font-medium btn-shadow">
                    æ·»åŠ åˆ°åº“å­˜
                </button>
            </div>
        </div>
        
        <!-- åº“å­˜ç®¡ç†é¡µ (P5) -->
        <div id="inventory-page" class="page">
            <div class="flex justify-between items-center pt-6 pb-4">
                <h1 class="text-xl font-bold">æˆ‘çš„åº“å­˜</h1>
                <div class="flex space-x-2">
                    <button class="p-2 rounded-full bg-gray-100">
                        <i class="fa fa-filter text-gray-600"></i>
                    </button>
                    <button class="p-2 rounded-full bg-gray-100">
                        <i class="fa fa-search text-gray-600"></i>
                    </button>
                </div>
            </div>
            
            <!-- åˆ†ç±»æ ‡ç­¾ -->
            <div class="flex overflow-x-auto pb-2 mb-4 scrollbar-hide">
                <button class="category-btn whitespace-nowrap px-4 py-2 bg-primary text-white rounded-full text-sm font-medium mr-2">
                    å…¨éƒ¨
                </button>
                <button class="category-btn whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium mr-2">
                    è”¬èœ
                </button>
                <button class="category-btn whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium mr-2">
                    æ°´æœ
                </button>
                <button class="category-btn whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium mr-2">
                    è‚‰ç±»
                </button>
                <button class="category-btn whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium mr-2">
                    ä¹³åˆ¶å“
                </button>
                <button class="category-btn whitespace-nowrap px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium">
                    å…¶ä»–
                </button>
            </div>
            
            <!-- åº“å­˜åˆ—è¡¨ -->
            <div class="space-y-3 mb-20">
                <!-- å·²è¿‡æœŸ -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 mb-2">å·²è¿‡æœŸ</h3>
                    <div class="ingredient-card status-expired bg-white rounded-xl p-4 card-shadow">
                        <div class="flex items-center">
                            <div class="w-14 h-14 rounded-lg bg-red-50 flex items-center justify-center mr-4">
                                <span class="text-2xl">ğŸ¥›</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="font-medium">ç‰›å¥¶</p>
                                    <span class="text-xs text-danger font-medium">å·²è¿‡æœŸ</span>
                                </div>
                                <div class="flex justify-between items-center mt-1">
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 quantity-display">1ç›’</span>
                                        <div class="quantity-controls hidden ml-2 flex items-center">
                                            <button class="decrease-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">-</button>
                                            <span class="mx-1 quantity-value text-xs">1</span>
                                            <button class="increase-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">+</button>
                                        </div>
                                        <span class="text-xs text-gray-500 ml-1">Â· å†·è—å®¤</span>
                                    </div>
                                    <span class="text-xs text-danger">1å¤©å‰è¿‡æœŸ</span>
                                </div>
                            </div>
                            <button class="edit-expiry-btn p-2 text-gray-400 hover:text-primary" data-ingredient="ç‰›å¥¶" data-expiry="2023-07-20" data-location="å†·è—å®¤">
                                <i class="fa fa-pencil"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- å³å°†è¿‡æœŸ -->
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-500 mb-2">å³å°†è¿‡æœŸ (3å¤©å†…)</h3>
                    <div class="ingredient-card status-warning bg-white rounded-xl p-4 card-shadow">
                        <div class="flex items-center">
                            <div class="w-14 h-14 rounded-lg bg-yellow-50 flex items-center justify-center mr-4">
                                <span class="text-2xl">ğŸ¥š</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="font-medium">é¸¡è›‹</p>
                                    <span class="text-xs text-warning font-medium">å³å°†è¿‡æœŸ</span>
                                </div>
                                <div class="flex justify-between items-center mt-1">
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 quantity-display">6ä¸ª</span>
                                        <div class="quantity-controls hidden ml-2 flex items-center">
                                            <button class="decrease-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">-</button>
                                            <span class="mx-1 quantity-value text-xs">6</span>
                                            <button class="increase-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">+</button>
                                        </div>
                                        <span class="text-xs text-gray-500 ml-1">Â· å†·è—å®¤</span>
                                    </div>
                                    <span class="text-xs text-warning">è¿˜æœ‰2å¤©</span>
                                </div>
                            </div>
                            <button class="edit-expiry-btn p-2 text-gray-400 hover:text-primary" data-ingredient="é¸¡è›‹" data-expiry="2023-07-25" data-location="å†·è—å®¤">
                                <i class="fa fa-pencil"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- æ–°é²œ -->
                <div>
                    <h3 class="text-sm font-medium text-gray-500 mb-2">æ–°é²œ</h3>
                    <div class="ingredient-card status-fresh bg-white rounded-xl p-4 card-shadow mb-3">
                        <div class="flex items-center">
                            <div class="w-14 h-14 rounded-lg bg-green-50 flex items-center justify-center mr-4">
                                <span class="text-2xl">ğŸ¥¬</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="font-medium">ç”Ÿèœ</p>
                                    <span class="text-xs text-secondary font-medium">æ–°é²œ</span>
                                </div>
                                <div class="flex justify-between items-center mt-1">
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 quantity-display">1é¢—</span>
                                        <div class="quantity-controls hidden ml-2 flex items-center">
                                            <button class="decrease-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">-</button>
                                            <span class="mx-1 quantity-value text-xs">1</span>
                                            <button class="increase-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">+</button>
                                        </div>
                                        <span class="text-xs text-gray-500 ml-1">Â· å†·è—å®¤</span>
                                    </div>
                                    <span class="text-xs text-secondary">è¿˜æœ‰5å¤©</span>
                                </div>
                            </div>
                            <button class="edit-expiry-btn p-2 text-gray-400 hover:text-primary" data-ingredient="ç”Ÿèœ" data-expiry="2023-07-28" data-location="å†·è—å®¤">
                                <i class="fa fa-pencil"></i>
                            </button>
                        </div>
                    </div>
                    <div class="ingredient-card status-fresh bg-white rounded-xl p-4 card-shadow mb-3">
                        <div class="flex items-center">
                            <div class="w-14 h-14 rounded-lg bg-red-50 flex items-center justify-center mr-4">
                                <span class="text-2xl">ğŸ…</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="font-medium">ç•ªèŒ„</p>
                                    <span class="text-xs text-secondary font-medium">æ–°é²œ</span>
                                </div>
                                <div class="flex justify-between items-center mt-1">
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 quantity-display">4ä¸ª</span>
                                        <div class="quantity-controls hidden ml-2 flex items-center">
                                            <button class="decrease-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">-</button>
                                            <span class="mx-1 quantity-value text-xs">4</span>
                                            <button class="increase-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">+</button>
                                        </div>
                                        <span class="text-xs text-gray-500 ml-1">Â· å†·è—å®¤</span>
                                    </div>
                                    <span class="text-xs text-secondary">è¿˜æœ‰6å¤©</span>
                                </div>
                            </div>
                            <button class="edit-expiry-btn p-2 text-gray-400 hover:text-primary" data-ingredient="ç•ªèŒ„" data-expiry="2023-07-29" data-location="å†·è—å®¤">
                                <i class="fa fa-pencil"></i>
                            </button>
                        </div>
                    </div>
                    <div class="ingredient-card status-fresh bg-white rounded-xl p-4 card-shadow mb-3">
                        <div class="flex items-center">
                            <div class="w-14 h-14 rounded-lg bg-red-50 flex items-center justify-center mr-4">
                                <span class="text-2xl">ğŸ¥©</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="font-medium">ç‰›è‚‰</p>
                                    <span class="text-xs text-secondary font-medium">æ–°é²œ</span>
                                </div>
                                <div class="flex justify-between items-center mt-1">
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 quantity-display">500g</span>
                                        <div class="quantity-controls hidden ml-2 flex items-center">
                                            <button class="decrease-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">-</button>
                                            <span class="mx-1 quantity-value text-xs">500</span>
                                            <button class="increase-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">+</button>
                                        </div>
                                        <span class="text-xs text-gray-500 ml-1">Â· å†·å†»å®¤</span>
                                    </div>
                                    <span class="text-xs text-secondary">è¿˜æœ‰30å¤©</span>
                                </div>
                            </div>
                            <button class="edit-expiry-btn p-2 text-gray-400 hover:text-primary" data-ingredient="ç‰›è‚‰" data-expiry="2023-08-22" data-location="å†·å†»å®¤">
                                <i class="fa fa-pencil"></i>
                            </button>
                        </div>
                    </div>
                    <div class="ingredient-card status-fresh bg-white rounded-xl p-4 card-shadow">
                        <div class="flex items-center">
                            <div class="w-14 h-14 rounded-lg bg-yellow-50 flex items-center justify-center mr-4">
                                <span class="text-2xl">ğŸ—</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="font-medium">é¸¡è‚‰</p>
                                    <span class="text-xs text-secondary font-medium">æ–°é²œ</span>
                                </div>
                                <div class="flex justify-between items-center mt-1">
                                    <div class="flex items-center">
                                        <span class="text-xs text-gray-500 quantity-display">300g</span>
                                        <div class="quantity-controls hidden ml-2 flex items-center">
                                            <button class="decrease-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">-</button>
                                            <span class="mx-1 quantity-value text-xs">300</span>
                                            <button class="increase-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">+</button>
                                        </div>
                                        <span class="text-xs text-gray-500 ml-1">Â· å†·å†»å®¤</span>
                                    </div>
                                    <span class="text-xs text-secondary">è¿˜æœ‰25å¤©</span>
                                </div>
                            </div>
                            <button class="edit-expiry-btn p-2 text-gray-400 hover:text-primary" data-ingredient="é¸¡è‚‰" data-expiry="2023-08-17" data-location="å†·å†»å®¤">
                                <i class="fa fa-pencil"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- èœè°±é£Ÿæé¡µ (P6) -->
        <div id="recipe-page" class="page">
            <div class="flex justify-between items-center pt-6 pb-4">
                <h1 class="text-xl font-bold">èœè°±é£Ÿæ</h1>
                <div class="w-8"></div> <!-- å ä½ï¼Œä¿æŒæ ‡é¢˜å±…ä¸­ -->
            </div>
            
            <div class="bg-white rounded-xl p-4 mb-6 card-shadow">
                <div class="mb-4">
                    <label for="recipe-input" class="block text-sm font-medium text-gray-700 mb-1">è¾“å…¥ä½ æƒ³åƒçš„èœ</label>
                    <div class="flex">
                        <input type="text" id="recipe-input" class="flex-1 border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="ä¾‹å¦‚ï¼šå®«ä¿é¸¡ä¸">
                        <button id="generate-recipe-btn" class="bg-primary text-white px-4 py-2 rounded-r-lg">
                            <i class="fa fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <div class="mb-4">
                    <h3 class="text-sm font-medium text-gray-700 mb-2">å†å²è®°å½•</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-700">å®«ä¿é¸¡ä¸</span>
                        <span class="px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-700">è¥¿çº¢æŸ¿é¸¡è›‹æ±¤</span>
                        <span class="px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-700">é’æ¤’ç‚’è‚‰</span>
                    </div>
                </div>
            </div>
            
            <!-- èœè°±ç»“æœ -->
            <div id="recipe-result" class="bg-white rounded-xl p-4 mb-6 card-shadow hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold">å®«ä¿é¸¡ä¸</h3>
                    <span class="text-xs text-gray-500">GPT-4o ç”Ÿæˆ</span>
                </div>
                
                <div class="mb-4">
                    <h4 class="text-sm font-medium text-gray-700 mb-2">æ‰€éœ€é£Ÿæ</h4>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="flex items-center">
                            <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2" checked>
                            <span class="text-sm">é¸¡èƒ¸è‚‰ 300g</span>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2">
                            <span class="text-sm">èŠ±ç”Ÿ 50g</span>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2" checked>
                            <span class="text-sm">å¹²è¾£æ¤’ 8ä¸ª</span>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2" checked>
                            <span class="text-sm">è‘± 1æ ¹</span>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2" checked>
                            <span class="text-sm">å§œ 1å°å—</span>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2" checked>
                            <span class="text-sm">è’œ 3ç“£</span>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2">
                            <span class="text-sm">é…±æ²¹ 2å‹º</span>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2">
                            <span class="text-sm">ç³– 1å‹º</span>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-sm font-medium text-gray-700 mb-2">çƒ¹é¥ªæ­¥éª¤</h4>
                    <ol class="text-sm text-gray-600 space-y-2 list-decimal list-inside">
                        <li>é¸¡èƒ¸è‚‰åˆ‡æˆ1.5å˜ç±³è§æ–¹çš„å°ä¸ï¼Œç”¨æ–™é…’ã€ç›ã€æ·€ç²‰è…Œåˆ¶15åˆ†é’Ÿ</li>
                        <li>èŠ±ç”Ÿæå‰ç”¨æ²¹ç‚¸ç†Ÿæˆ–çƒ¤é¦™</li>
                        <li>è‘±åˆ‡æ®µï¼Œå§œã€è’œåˆ‡æœ«</li>
                        <li>çƒ­é”…å†·æ²¹ï¼Œä¸‹é¸¡ä¸ç‚’è‡³å˜è‰²</li>
                        <li>åŠ å…¥å¹²è¾£æ¤’ã€è‘±å§œè’œç‚’å‡ºé¦™å‘³</li>
                        <li>åŠ å…¥é…±æ²¹ã€ç³–ã€é†‹ç­‰è°ƒå‘³æ–™</li>
                        <li>æœ€ååŠ å…¥èŠ±ç”Ÿç‚’åŒ€å³å¯</li>
                    </ol>
                </div>
            </div>
            
            <div class="fixed bottom-20 left-0 right-0 px-4">
                <button id="add-to-shopping-btn" class="w-full py-3 bg-secondary text-white rounded-xl font-medium btn-shadow-green hidden">
                    æ·»åŠ åˆ°è´­ç‰©æ¸…å•
                </button>
            </div>
        </div>
        
        <!-- è´­ç‰©æ¸…å•é¡µ (P7) -->
        <div id="shopping-page" class="page">
            <div class="flex justify-between items-center pt-6 pb-4">
                <h1 class="text-xl font-bold">è´­ç‰©æ¸…å•</h1>
                <div class="flex space-x-2">
                    <button class="p-2 rounded-full bg-gray-100">
                        <i class="fa fa-share-alt text-gray-600"></i>
                    </button>
                    <button class="p-2 rounded-full bg-gray-100">
                        <i class="fa fa-trash-o text-gray-600"></i>
                    </button>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-4 mb-6 card-shadow">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold">ç¼ºå°‘çš„é£Ÿæ</h3>
                    <span class="text-xs text-gray-500">å…± 4 é¡¹</span>
                </div>
                
                <!-- åˆ†ç±»ï¼šè‚‰ç±» -->
                <div class="mb-4">
                    <h4 class="text-sm font-medium text-gray-700 mb-2">è‚‰ç±»</h4>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2">
                                <span class="text-sm">é¸¡èƒ¸è‚‰ 300g</span>
                            </div>
                            <button class="text-gray-400 hover:text-gray-600">
                                <i class="fa fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- åˆ†ç±»ï¼šè°ƒæ–™ -->
                <div class="mb-4">
                    <h4 class="text-sm font-medium text-gray-700 mb-2">è°ƒæ–™</h4>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2">
                                <span class="text-sm">èŠ±ç”Ÿ 50g</span>
                            </div>
                            <button class="text-gray-400 hover:text-gray-600">
                                <i class="fa fa-ellipsis-v"></i>
                            </button>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2">
                                <span class="text-sm">é…±æ²¹ 2å‹º</span>
                            </div>
                            <button class="text-gray-400 hover:text-gray-600">
                                <i class="fa fa-ellipsis-v"></i>
                            </button>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                            <div class="flex items-center">
                                <input type="checkbox" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary mr-2">
                                <span class="text-sm">ç³– 1å‹º</span>
                            </div>
                            <button class="text-gray-400 hover:text-gray-600">
                                <i class="fa fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- é™„è¿‘è¶…å¸‚ -->
            <div class="bg-white rounded-xl p-4 mb-20 card-shadow">
                <h3 class="text-lg font-semibold mb-3">é™„è¿‘è¶…å¸‚</h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-red-50 flex items-center justify-center mr-3">
                                <i class="fa fa-shopping-basket text-red-500"></i>
                            </div>
                            <div>
                                <p class="font-medium">æ°¸è¾‰è¶…å¸‚</p>
                                <p class="text-xs text-gray-500">è·ç¦» 500m Â· è¥ä¸šä¸­</p>
                            </div>
                        </div>
                        <button class="text-primary text-sm">
                            <i class="fa fa-location-arrow mr-1"></i>
                            å¯¼èˆª
                        </button>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center mr-3">
                                <i class="fa fa-shopping-basket text-blue-500"></i>
                            </div>
                            <div>
                                <p class="font-medium">ç›’é©¬é²œç”Ÿ</p>
                                <p class="text-xs text-gray-500">è·ç¦» 1.2km Â· è¥ä¸šä¸­</p>
                            </div>
                        </div>
                        <button class="text-primary text-sm">
                            <i class="fa fa-location-arrow mr-1"></i>
                            å¯¼èˆª
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å†°ç®±è®¾ç½®é¡µ (P8) -->
        <div id="settings-page" class="page">
            <div class="flex justify-between items-center pt-6 pb-4">
                <h1 class="text-xl font-bold">å†°ç®±è®¾ç½®</h1>
                <div class="w-8"></div> <!-- å ä½ï¼Œä¿æŒæ ‡é¢˜å±…ä¸­ -->
            </div>
            
            <div class="bg-white rounded-xl p-4 mb-6 card-shadow">
                <h3 class="text-lg font-semibold mb-3">å†°ç®±éš”å±‚</h3>
                <p class="text-sm text-gray-600 mb-4">è‡ªå®šä¹‰ä½ çš„å†°ç®±éš”å±‚ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç®¡ç†é£Ÿæ</p>
                
                <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 mb-4 min-h-[200px]">
                    <div class="grid grid-cols-2 gap-3">
                        <div class="bg-primary bg-opacity-10 p-3 rounded-lg text-center">
                            <p class="font-medium text-primary">å†·è—å®¤</p>
                            <p class="text-xs text-gray-500">4Â°C</p>
                        </div>
                        <div class="bg-primary bg-opacity-10 p-3 rounded-lg text-center">
                            <p class="font-medium text-primary">å†·å†»å®¤</p>
                            <p class="text-xs text-gray-500">-18Â°C</p>
                        </div>
                        <div class="bg-primary bg-opacity-10 p-3 rounded-lg text-center">
                            <p class="font-medium text-primary">å˜æ¸©å®¤</p>
                            <p class="text-xs text-gray-500">0Â°C</p>
                        </div>
                        <div class="bg-gray-100 p-3 rounded-lg text-center flex items-center justify-center">
                            <button class="text-gray-500 hover:text-primary">
                                <i class="fa fa-plus-circle mr-1"></i>
                                <span>æ·»åŠ éš”å±‚</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <button class="w-full py-2 bg-primary text-white rounded-lg">
                    ä¿å­˜è®¾ç½®
                </button>
            </div>
            
            <div class="bg-white rounded-xl p-4 mb-6 card-shadow">
                <h3 class="text-lg font-semibold mb-3">é€šçŸ¥è®¾ç½®</h3>
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">è¿‡æœŸæé†’</p>
                            <p class="text-xs text-gray-500">é£Ÿæå³å°†è¿‡æœŸæ—¶é€šçŸ¥æˆ‘</p>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                        </label>
                    </div>
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">æ¯å‘¨åº“å­˜æŠ¥å‘Š</p>
                            <p class="text-xs text-gray-500">æ¯å‘¨ä¸€æ”¶åˆ°åº“å­˜æ‘˜è¦</p>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer">
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                        </label>
                    </div>
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">ä½åº“å­˜æé†’</p>
                            <p class="text-xs text-gray-500">é£Ÿæå¿«ç”¨å®Œæ—¶é€šçŸ¥æˆ‘</p>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl p-4 mb-20 card-shadow">
                <h3 class="text-lg font-semibold mb-3">å…³äºåº”ç”¨</h3>
                <div class="space-y-3">
                    <div class="flex justify-between items-center">
                        <p class="text-gray-600">ç‰ˆæœ¬</p>
                        <p class="font-medium">1.0.0</p>
                    </div>
                    <div class="flex justify-between items-center">
                        <p class="text-gray-600">å¼€å‘è€…</p>
                        <p class="font-medium">AIå†°ç®±ç®¡å®¶å›¢é˜Ÿ</p>
                    </div>
                    <div class="flex justify-between items-center">
                        <p class="text-gray-600">å¸®åŠ©ä¸åé¦ˆ</p>
                        <button class="text-primary">
                            <i class="fa fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="flex justify-between items-center">
                        <p class="text-gray-600">éšç§æ”¿ç­–</p>
                        <button class="text-primary">
                            <i class="fa fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- åº•éƒ¨å¯¼èˆªæ  -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2">
        <div class="flex justify-around">
            <a href="#home-page" class="tab-item flex flex-col items-center w-16">
                <i class="fa fa-home tab-icon text-2xl active"></i>
                <span class="tab-label mt-1 active">é¦–é¡µ</span>
            </a>
            <a href="#inventory-page" class="tab-item flex flex-col items-center w-16">
                <i class="fa fa-list tab-icon text-2xl text-gray-500"></i>
                <span class="tab-label mt-1 text-gray-500">åº“å­˜</span>
            </a>
            <a href="#recipe-page" class="tab-item flex flex-col items-center w-16">
                <i class="fa fa-cutlery tab-icon text-2xl text-gray-500"></i>
                <span class="tab-label mt-1 text-gray-500">èœè°±</span>
            </a>
            <a href="#settings-page" class="tab-item flex flex-col items-center w-16">
                <i class="fa fa-cog tab-icon text-2xl text-gray-500"></i>
                <span class="tab-label mt-1 text-gray-500">è®¾ç½®</span>
            </a>
        </div>
    </nav>
    
    <!-- é€šçŸ¥å¼¹çª— -->
    <div id="notification-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center pt-20 z-50 hidden">
        <div class="bg-white rounded-xl w-5/6 max-w-md max-h-[70vh] overflow-y-auto">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-semibold">é€šçŸ¥</h3>
                <button id="close-notification" class="text-gray-500">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="p-4 space-y-4">
                <div class="flex items-start p-3 bg-red-50 rounded-lg">
                    <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fa fa-exclamation-triangle text-danger"></i>
                    </div>
                    <div>
                        <p class="font-medium">ç‰›å¥¶å·²è¿‡æœŸ</p>
                        <p class="text-sm text-gray-600">æ‚¨çš„ç‰›å¥¶å·²äºæ˜¨å¤©è¿‡æœŸï¼Œè¯·åŠæ—¶å¤„ç†ã€‚</p>
                        <p class="text-xs text-gray-500 mt-1">ä»Šå¤© 08:30</p>
                    </div>
                </div>
                <div class="flex items-start p-3 bg-yellow-50 rounded-lg">
                    <div class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fa fa-clock-o text-warning"></i>
                    </div>
                    <div>
                        <p class="font-medium">é¸¡è›‹å³å°†è¿‡æœŸ</p>
                        <p class="text-sm text-gray-600">æ‚¨çš„é¸¡è›‹å°†åœ¨2å¤©åè¿‡æœŸï¼Œå»ºè®®å°½å¿«é£Ÿç”¨ã€‚</p>
                        <p class="text-xs text-gray-500 mt-1">ä»Šå¤© 08:30</p>
                    </div>
                </div>
                <div class="flex items-start p-3 bg-blue-50 rounded-lg">
                    <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fa fa-info-circle text-primary"></i>
                    </div>
                    <div>
                        <p class="font-medium">åº“å­˜æ›´æ–°æˆåŠŸ</p>
                        <p class="text-sm text-gray-600">æ‚¨çš„å†°ç®±åº“å­˜å·²æ›´æ–°ï¼Œæ–°å¢äº†5ç§é£Ÿæã€‚</p>
                        <p class="text-xs text-gray-500 mt-1">æ˜¨å¤© 19:45</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- è¿‡æœŸæé†’æ“ä½œèœå• -->
    <div id="expiry-action-menu" class="fixed hidden z-50 bg-white rounded-xl shadow-lg w-48">
        <div class="py-1">
            <button id="mark-as-cleared" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">
                <i class="fa fa-check-circle mr-2 text-green-500"></i>æ ‡è®°ä¸ºå·²æ¸…ç†
            </button>
            <button id="view-details" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">
                <i class="fa fa-eye mr-2 text-blue-500"></i>æŸ¥çœ‹è¯¦æƒ…
            </button>
            <button id="cancel-action" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">
                <i class="fa fa-times mr-2 text-gray-500"></i>å–æ¶ˆ
            </button>
        </div>
    </div>
    
    <!-- ç¼–è¾‘ä¿è´¨æœŸå¼¹çª— -->
    <div id="edit-expiry-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center pt-20 z-50 hidden">
        <div class="bg-white rounded-xl w-5/6 max-w-md">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-semibold">ç¼–è¾‘ä¿è´¨æœŸ</h3>
                <button id="close-edit-expiry" class="text-gray-500">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <div class="mb-4">
                    <label for="ingredient-name" class="block text-sm font-medium text-gray-700 mb-1">é£Ÿæåç§°</label>
                    <input type="text" id="ingredient-name" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" readonly>
                </div>
                <div class="mb-4">
                    <label for="expiry-date" class="block text-sm font-medium text-gray-700 mb-1">è¿‡æœŸæ—¥æœŸ</label>
                    <input type="date" id="expiry-date" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                </div>
                <div class="mb-4">
                    <label for="storage-location" class="block text-sm font-medium text-gray-700 mb-1">å­˜å‚¨ä½ç½®</label>
                    <select id="storage-location" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <option value="å†·è—å®¤">å†·è—å®¤</option>
                        <option value="å†·å†»å®¤">å†·å†»å®¤</option>
                        <option value="å˜æ¸©å®¤">å˜æ¸©å®¤</option>
                    </select>
                </div>
                <div class="flex space-x-3">
                    <button id="save-expiry" class="flex-1 py-2 bg-primary text-white rounded-lg">ä¿å­˜</button>
                    <button id="cancel-edit" class="flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg">å–æ¶ˆ</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- æ‰‹åŠ¨æ·»åŠ é£Ÿæå¼¹çª— -->
    <div id="add-ingredient-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center pt-20 z-50 hidden">
        <div class="bg-white rounded-xl w-5/6 max-w-md">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-semibold">æ‰‹åŠ¨æ·»åŠ é£Ÿæ</h3>
                <button id="close-add-ingredient" class="text-gray-500">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="p-4">
                <div class="mb-4">
                    <label for="new-ingredient-name" class="block text-sm font-medium text-gray-700 mb-1">é£Ÿæåç§°</label>
                    <input type="text" id="new-ingredient-name" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="è¾“å…¥é£Ÿæåç§°">
                </div>
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="new-ingredient-quantity" class="block text-sm font-medium text-gray-700 mb-1">æ•°é‡</label>
                        <input type="number" id="new-ingredient-quantity" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="æ•°é‡" min="1" value="1">
                    </div>
                    <div>
                        <label for="new-ingredient-unit" class="block text-sm font-medium text-gray-700 mb-1">å•ä½</label>
                        <select id="new-ingredient-unit" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="ä¸ª">ä¸ª</option>
                            <option value="ç›’">ç›’</option>
                            <option value="ç“¶">ç“¶</option>
                            <option value="è¢‹">è¢‹</option>
                            <option value="g">å…‹(g)</option>
                            <option value="kg">åƒå…‹(kg)</option>
                            <option value="é¢—">é¢—</option>
                            <option value="æ ¹">æ ¹</option>
                            <option value="æŠŠ">æŠŠ</option>
                        </select>
                    </div>
                </div>
                <div class="mb-4">
                    <label for="new-ingredient-expiry" class="block text-sm font-medium text-gray-700 mb-1">è¿‡æœŸæ—¥æœŸ</label>
                    <input type="date" id="new-ingredient-expiry" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                </div>
                <div class="mb-4">
                    <label for="new-ingredient-location" class="block text-sm font-medium text-gray-700 mb-1">å­˜å‚¨ä½ç½®</label>
                    <select id="new-ingredient-location" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <option value="å†·è—å®¤">å†·è—å®¤</option>
                        <option value="å†·å†»å®¤">å†·å†»å®¤</option>
                        <option value="å˜æ¸©å®¤">å˜æ¸©å®¤</option>
                    </select>
                </div>
                <div class="flex space-x-3">
                    <button id="save-new-ingredient" class="flex-1 py-2 bg-primary text-white rounded-lg">æ·»åŠ </button>
                    <button id="cancel-add-ingredient" class="flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg">å–æ¶ˆ</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // é¡µé¢åˆ‡æ¢é€»è¾‘
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–é¡µé¢
            const pages = document.querySelectorAll('.page');
            const tabItems = document.querySelectorAll('.tab-item');
            const backButtons = document.querySelectorAll('.back-btn');
            
            // é¡µé¢åˆ‡æ¢å‡½æ•°
            function showPage(pageId) {
                pages.forEach(page => {
                    page.classList.remove('active');
                });
                document.querySelector(pageId).classList.add('active');
                
                // æ›´æ–°åº•éƒ¨å¯¼èˆªæ çŠ¶æ€
                tabItems.forEach(item => {
                    const tabIcon = item.querySelector('.tab-icon');
                    const tabLabel = item.querySelector('.tab-label');
                    
                    if (item.getAttribute('href') === pageId) {
                        tabIcon.classList.add('active');
                        tabIcon.classList.remove('text-gray-500');
                        tabLabel.classList.add('active');
                        tabLabel.classList.remove('text-gray-500');
                    } else {
                        tabIcon.classList.remove('active');
                        tabIcon.classList.add('text-gray-500');
                        tabLabel.classList.remove('active');
                        tabLabel.classList.add('text-gray-500');
                    }
                });
            }
            
            // ç›‘å¬å¯¼èˆªç‚¹å‡»
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('href');
                    showPage(pageId);
                });
            });
            
            // ç›‘å¬è¿”å›æŒ‰é’®ç‚¹å‡»
            backButtons.forEach(button => {
                button.addEventListener('click', function() {
                    showPage('#home-page');
                });
            });
            
            // ç›¸æœºæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('camera-btn').addEventListener('click', function() {
                showPage('#analyze-page');
                simulateAnalysis();
            });
            
            // æ¨¡æ‹Ÿå›¾ç‰‡åˆ†æè¿‡ç¨‹
            function simulateAnalysis() {
                const progressBar = document.getElementById('analyze-progress');
                const progressText = document.getElementById('analyze-progress-text');
                const analyzeStatus = document.getElementById('analyze-status');
                const resultPreview = document.getElementById('analyze-result-preview');
                const continueBtn = document.getElementById('continue-btn');
                
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 5;
                    progressBar.style.width = `${progress}%`;
                    progressText.textContent = `${progress}%`;
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                        analyzeStatus.innerHTML = '<p class="text-green-600 mb-2"><i class="fa fa-check-circle mr-1"></i> åˆ†æå®Œæˆ</p><p class="text-sm text-gray-500">å·²è¯†åˆ«å‡º5ç§é£Ÿæ</p>';
                        resultPreview.classList.remove('hidden');
                        continueBtn.classList.remove('hidden');
                    }
                }, 100);
            }
            
            // ç»§ç»­æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('continue-btn').addEventListener('click', function() {
                showPage('#result-page');
            });
            
            // æ·»åŠ åˆ°åº“å­˜æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('add-to-inventory-btn').addEventListener('click', function() {
                showPage('#inventory-page');
            });
            
            // ç”Ÿæˆèœè°±æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('generate-recipe-btn').addEventListener('click', function() {
                const recipeInput = document.getElementById('recipe-input');
                if (recipeInput.value.trim() !== '') {
                    document.getElementById('recipe-result').classList.remove('hidden');
                    document.getElementById('add-to-shopping-btn').classList.remove('hidden');
                }
            });
            
            // æ·»åŠ åˆ°è´­ç‰©æ¸…å•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('add-to-shopping-btn').addEventListener('click', function() {
                showPage('#shopping-page');
            });
            
            // é€šçŸ¥æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('notification-btn').addEventListener('click', function() {
                document.getElementById('notification-modal').classList.remove('hidden');
            });
            
            // å…³é—­é€šçŸ¥å¼¹çª—
            document.getElementById('close-notification').addEventListener('click', function() {
                document.getElementById('notification-modal').classList.add('hidden');
            });
            
            // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­å¼¹çª—
            document.getElementById('notification-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.add('hidden');
                }
            });
            
            // åˆ†ç±»æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.category-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(btn => {
                        btn.classList.remove('bg-primary', 'text-white');
                        btn.classList.add('bg-white', 'text-gray-700');
                    });
                    this.classList.remove('bg-white', 'text-gray-700');
                    this.classList.add('bg-primary', 'text-white');
                });
            });
            
            // ç¼–è¾‘ä¿è´¨æœŸåŠŸèƒ½
            const editExpiryModal = document.getElementById('edit-expiry-modal');
            const closeEditExpiry = document.getElementById('close-edit-expiry');
            const saveExpiry = document.getElementById('save-expiry');
            const cancelEdit = document.getElementById('cancel-edit');
            const ingredientName = document.getElementById('ingredient-name');
            const expiryDate = document.getElementById('expiry-date');
            const storageLocation = document.getElementById('storage-location');
            
            // æ‰“å¼€ç¼–è¾‘å¼¹çª—
            document.querySelectorAll('.edit-expiry-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const ingredient = this.getAttribute('data-ingredient');
                    const expiry = this.getAttribute('data-expiry');
                    const location = this.getAttribute('data-location');
                    
                    ingredientName.value = ingredient;
                    expiryDate.value = expiry;
                    storageLocation.value = location;
                    
                    editExpiryModal.classList.remove('hidden');
                });
            });
            
            // å…³é—­ç¼–è¾‘å¼¹çª—
            closeEditExpiry.addEventListener('click', function() {
                editExpiryModal.classList.add('hidden');
            });
            
            // å–æ¶ˆç¼–è¾‘
            cancelEdit.addEventListener('click', function() {
                editExpiryModal.classList.add('hidden');
            });
            
            // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­å¼¹çª—
            editExpiryModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.add('hidden');
                }
            });
            
            // ä¿å­˜ä¿è´¨æœŸæ›´æ”¹
            saveExpiry.addEventListener('click', function() {
                const ingredient = ingredientName.value;
                const newExpiry = expiryDate.value;
                const newLocation = storageLocation.value;
                
                // æ›´æ–°æŒ‰é’®ä¸Šçš„æ•°æ®å±æ€§
                document.querySelectorAll('.edit-expiry-btn').forEach(button => {
                    if (button.getAttribute('data-ingredient') === ingredient) {
                        button.setAttribute('data-expiry', newExpiry);
                        button.setAttribute('data-location', newLocation);
                        
                        // æ›´æ–°UIæ˜¾ç¤º
                        const card = button.closest('.ingredient-card');
                        const locationElement = card.querySelector('.text-gray-500:last-child');
                        const expiryElement = card.querySelector('.text-danger, .text-warning, .text-secondary');
                        
                        // æ›´æ–°ä½ç½®ä¿¡æ¯
                        locationElement.textContent = `Â· ${newLocation}`;
                        
                        // è®¡ç®—å¹¶æ›´æ–°è¿‡æœŸçŠ¶æ€
                        const today = new Date();
                        const expiry = new Date(newExpiry);
                        const diffTime = expiry - today;
                        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                        
                        if (diffDays < 0) {
                            // å·²è¿‡æœŸ
                            expiryElement.textContent = `${Math.abs(diffDays)}å¤©å‰è¿‡æœŸ`;
                            expiryElement.classList.remove('text-warning', 'text-secondary');
                            expiryElement.classList.add('text-danger');
                            card.classList.remove('status-warning', 'status-fresh');
                            card.classList.add('status-expired');
                        } else if (diffDays <= 3) {
                            // å³å°†è¿‡æœŸ
                            expiryElement.textContent = `è¿˜æœ‰${diffDays}å¤©`;
                            expiryElement.classList.remove('text-danger', 'text-secondary');
                            expiryElement.classList.add('text-warning');
                            card.classList.remove('status-expired', 'status-fresh');
                            card.classList.add('status-warning');
                        } else {
                            // æ–°é²œ
                            expiryElement.textContent = `è¿˜æœ‰${diffDays}å¤©`;
                            expiryElement.classList.remove('text-danger', 'text-warning');
                            expiryElement.classList.add('text-secondary');
                            card.classList.remove('status-expired', 'status-warning');
                            card.classList.add('status-fresh');
                        }
                    }
                });
                
                // å…³é—­å¼¹çª—
                editExpiryModal.classList.add('hidden');
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                alert('ä¿è´¨æœŸæ›´æ–°æˆåŠŸï¼');
            });
            
            // é£Ÿææ•°é‡ç¼–è¾‘åŠŸèƒ½
            document.querySelectorAll('.quantity-display').forEach(display => {
                display.addEventListener('click', function() {
                    const controls = this.nextElementSibling;
                    controls.classList.toggle('hidden');
                    this.classList.toggle('hidden');
                });
            });
            
            // å‡å°‘æ•°é‡æŒ‰é’®
            document.querySelectorAll('.decrease-quantity').forEach(button => {
                button.addEventListener('click', function() {
                    const valueElement = this.nextElementSibling;
                    let value = parseInt(valueElement.textContent);
                    if (value > 1) {
                        value--;
                        valueElement.textContent = value;
                        
                        // æ›´æ–°æ˜¾ç¤º
                        const display = this.closest('.flex').querySelector('.quantity-display');
                        const unit = display.textContent.replace(/[0-9]/g, '').trim();
                        display.textContent = `${value}${unit}`;
                    }
                });
            });
            
            // å¢åŠ æ•°é‡æŒ‰é’®
            document.querySelectorAll('.increase-quantity').forEach(button => {
                button.addEventListener('click', function() {
                    const valueElement = this.previousElementSibling;
                    let value = parseInt(valueElement.textContent);
                    value++;
                    valueElement.textContent = value;
                    
                    // æ›´æ–°æ˜¾ç¤º
                    const display = this.closest('.flex').querySelector('.quantity-display');
                    const unit = display.textContent.replace(/[0-9]/g, '').trim();
                    display.textContent = `${value}${unit}`;
                });
            });
            
            // æ‰‹åŠ¨æ·»åŠ é£ŸæåŠŸèƒ½
            const addIngredientModal = document.getElementById('add-ingredient-modal');
            const closeAddIngredient = document.getElementById('close-add-ingredient');
            const saveNewIngredient = document.getElementById('save-new-ingredient');
            const cancelAddIngredient = document.getElementById('cancel-add-ingredient');
            const manualBtn = document.getElementById('manual-btn');
            
            // æ‰“å¼€æ·»åŠ é£Ÿæå¼¹çª—
            manualBtn.addEventListener('click', function() {
                // è®¾ç½®é»˜è®¤æ—¥æœŸä¸ºæ˜å¤©
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                const dateString = tomorrow.toISOString().split('T')[0];
                document.getElementById('new-ingredient-expiry').value = dateString;
                
                addIngredientModal.classList.remove('hidden');
            });
            
            // å…³é—­æ·»åŠ é£Ÿæå¼¹çª—
            closeAddIngredient.addEventListener('click', function() {
                addIngredientModal.classList.add('hidden');
            });
            
            // å–æ¶ˆæ·»åŠ é£Ÿæ
            cancelAddIngredient.addEventListener('click', function() {
                addIngredientModal.classList.add('hidden');
            });
            
            // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­å¼¹çª—
            addIngredientModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.add('hidden');
                }
            });
            
            // ä¿å­˜æ–°é£Ÿæ
            saveNewIngredient.addEventListener('click', function() {
                const name = document.getElementById('new-ingredient-name').value;
                const quantity = document.getElementById('new-ingredient-quantity').value;
                const unit = document.getElementById('new-ingredient-unit').value;
                const expiry = document.getElementById('new-ingredient-expiry').value;
                const location = document.getElementById('new-ingredient-location').value;
                
                if (!name || !quantity || !expiry) {
                    alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯ï¼');
                    return;
                }
                
                // è®¡ç®—è¿‡æœŸçŠ¶æ€
                const today = new Date();
                const expiryDate = new Date(expiry);
                const diffTime = expiryDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                let statusClass, statusText, statusColor;
                if (diffDays < 0) {
                    statusClass = 'status-expired';
                    statusText = 'å·²è¿‡æœŸ';
                    statusColor = 'text-danger';
                } else if (diffDays <= 3) {
                    statusClass = 'status-warning';
                    statusText = 'å³å°†è¿‡æœŸ';
                    statusColor = 'text-warning';
                } else {
                    statusClass = 'status-fresh';
                    statusText = 'æ–°é²œ';
                    statusColor = 'text-secondary';
                }
                
                // è·å–é£Ÿæå›¾æ ‡
                let icon = 'ğŸ¥«'; // é»˜è®¤å›¾æ ‡
                const iconMap = {
                    'ç‰›å¥¶': 'ğŸ¥›',
                    'é¸¡è›‹': 'ğŸ¥š',
                    'ç”Ÿèœ': 'ğŸ¥¬',
                    'ç•ªèŒ„': 'ğŸ…',
                    'ç‰›è‚‰': 'ğŸ¥©',
                    'é¸¡è‚‰': 'ğŸ—',
                    'è‹¹æœ': 'ğŸ',
                    'é¦™è•‰': 'ğŸŒ',
                    'é¢åŒ…': 'ğŸ',
                    'ç±³é¥­': 'ğŸš'
                };
                
                if (iconMap[name]) {
                    icon = iconMap[name];
                }
                
                // åˆ›å»ºæ–°é£Ÿæå¡ç‰‡
                const newCard = document.createElement('div');
                newCard.className = `ingredient-card ${statusClass} bg-white rounded-xl p-4 card-shadow mb-3`;
                newCard.innerHTML = `
                    <div class="flex items-center">
                        <div class="w-14 h-14 rounded-lg bg-green-50 flex items-center justify-center mr-4">
                            <span class="text-2xl">${icon}</span>
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <p class="font-medium">${name}</p>
                                <span class="text-xs ${statusColor} font-medium">${statusText}</span>
                            </div>
                            <div class="flex justify-between items-center mt-1">
                                <div class="flex items-center">
                                    <span class="text-xs text-gray-500 quantity-display">${quantity}${unit}</span>
                                    <div class="quantity-controls hidden ml-2 flex items-center">
                                        <button class="decrease-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">-</button>
                                        <span class="mx-1 quantity-value text-xs">${quantity}</span>
                                        <button class="increase-quantity w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs">+</button>
                                    </div>
                                    <span class="text-xs text-gray-500 ml-1">Â· ${location}</span>
                                </div>
                                <span class="text-xs ${statusColor}">${diffDays < 0 ? `${Math.abs(diffDays)}å¤©å‰è¿‡æœŸ` : `è¿˜æœ‰${diffDays}å¤©`}</span>
                            </div>
                        </div>
                        <button class="edit-expiry-btn p-2 text-gray-400 hover:text-primary" data-ingredient="${name}" data-expiry="${expiry}" data-location="${location}">
                            <i class="fa fa-pencil"></i>
                        </button>
                    </div>
                `;
                
                // æ·»åŠ åˆ°åº“å­˜åˆ—è¡¨
                const freshSection = document.querySelector('#inventory-page .space-y-3 > div:last-child');
                freshSection.appendChild(newCard);
                
                // ä¸ºæ–°æ·»åŠ çš„å…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
                const newDisplay = newCard.querySelector('.quantity-display');
                newDisplay.addEventListener('click', function() {
                    const controls = this.nextElementSibling;
                    controls.classList.toggle('hidden');
                    this.classList.toggle('hidden');
                });
                
                const newDecreaseBtn = newCard.querySelector('.decrease-quantity');
                newDecreaseBtn.addEventListener('click', function() {
                    const valueElement = this.nextElementSibling;
                    let value = parseInt(valueElement.textContent);
                    if (value > 1) {
                        value--;
                        valueElement.textContent = value;
                        
                        // æ›´æ–°æ˜¾ç¤º
                        const display = this.closest('.flex').querySelector('.quantity-display');
                        const unit = display.textContent.replace(/[0-9]/g, '').trim();
                        display.textContent = `${value}${unit}`;
                    }
                });
                
                const newIncreaseBtn = newCard.querySelector('.increase-quantity');
                newIncreaseBtn.addEventListener('click', function() {
                    const valueElement = this.previousElementSibling;
                    let value = parseInt(valueElement.textContent);
                    value++;
                    valueElement.textContent = value;
                    
                    // æ›´æ–°æ˜¾ç¤º
                    const display = this.closest('.flex').querySelector('.quantity-display');
                    const unit = display.textContent.replace(/[0-9]/g, '').trim();
                    display.textContent = `${value}${unit}`;
                });
                
                const newEditBtn = newCard.querySelector('.edit-expiry-btn');
                newEditBtn.addEventListener('click', function() {
                    const ingredient = this.getAttribute('data-ingredient');
                    const expiry = this.getAttribute('data-expiry');
                    const location = this.getAttribute('data-location');
                    
                    ingredientName.value = ingredient;
                    expiryDate.value = expiry;
                    storageLocation.value = location;
                    
                    editExpiryModal.classList.remove('hidden');
                });
                
                // å…³é—­å¼¹çª—
                addIngredientModal.classList.add('hidden');
                
                // æ¸…ç©ºè¡¨å•
                document.getElementById('new-ingredient-name').value = '';
                document.getElementById('new-ingredient-quantity').value = '1';
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                alert('é£Ÿææ·»åŠ æˆåŠŸï¼');
                
                // åˆ‡æ¢åˆ°åº“å­˜é¡µé¢
                showPage('#inventory-page');
            });
        });
    </script>
</body>
</html>